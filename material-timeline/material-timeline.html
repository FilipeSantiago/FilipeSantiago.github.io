<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icons/maps-icons.html">
<link rel="import" href="../bower_components/paper-divider/paper-divider.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="material-timeline-style.html">


<dom-module id="material-timeline">    
    <link rel="import" type="css" href="../font-awesome-4.7.0/css/font-awesome.min.css">
    
    <template>
        <style include="material-timeline-style"></style>

        <div class="container">
            <div class="timeline">
                <template is="dom-repeat" items="{{events}}" as="event" index-as="event_no">
                    <div class="timeline-event" style$="{{getTranslateYValue(event_no)}}">
                        <div class="timeline-content">
                            <div class="timeline-content-card">
                                <paper-card animated image="" alt="Emmental">
                                    <div class="card-content">
                                        <div class="centrilize-icon timeline-header-badge">
                                                <i id="header-badge" class$="fa fa-{{event.HeaderIcon}} fa-2x"></i>                                           
                                        </div>
                                        <div class="event-header"> 
                                            {{event.Header}}                                            
                                        </div>
                                        <template is="dom-repeat" items="{{event.SubHeaders}}" as="subHeader" index-as="report_no">
                                                <div class="event-sub-header"> 
                                                    <i class$="fa fa-{{subHeader.Icon}}"></i>
                                                    {{subHeader.Text}} 
                                                </div>
                                        </template>
                                            <paper-divider></paper-divider> 
                                        <div class="event-content">                                            
                                            {{event.Content}}
                                        </div>
                                    </div>

                                </paper-card>
                            </div>
                        </div>
                    <div class="timeline-badge centrilize-icon">
                        <i id="badge" class$="fa fa-{{event.HeaderIcon}} fa-2x"></i>                                           
                    </div>
                </div>
                </template>
            </div>
        </div>    

    </template>
</dom-module>

<script>

    class MaterialTimelineElement extends Polymer.Element {        
        
        static get is() { return "material-timeline"; }

        ready(){
            super.ready();
        }     

        static get properties(){
            return{
                events:{
                    type:Array,
                },
                staticOpen:{
                    type:Boolean,
                    value: false
                },
                _toogleClass:{
                    type:String,
                    value: ""
                }                
            };
        }

        getTranslateYValue(position){
            var finalPos =  position * -35;
            //return "transform: translateY("+ finalPos + "%);"
            return "";
        }
    }

    customElements.define(MaterialTimelineElement.is, MaterialTimelineElement);

</script>